# Portfolio Demo - 介護事業所向けシフト管理システム

訪問介護事業所向けに開発した業務管理システムのデモ版です。
本番環境ではFirebase/Firestoreと連携し、リアルタイムでデータを同期しています。

---

## デモサイト

**[デモを見る](https://nakharuto-ops.github.io/Shift-demo/)**

---

## プロジェクト一覧

### 1. 月間シフト表

訪問介護スタッフの月間シフトを視覚的に管理するアプリケーションです。

#### 主な機能

| 機能 | デモ版 | 本番版 |
|------|:------:|:------:|
| マグネット式シフト管理（ドラッグ＆ドロップ） | ○ | ○ |
| スタッフ別勤務時間の自動集計 | ○ | ○ |
| 公休/有休/特休のセル色分け表示 | ○ | ○ |
| サービス種別の色分け表示 | ○ | ○ |
| 週合計・月合計の自動計算 | ○ | ○ |
| Firebase/Firestoreリアルタイム同期 | - | ○ |
| 変更履歴の追跡・表示 | - | ○ |
| スタッフ管理（追加・削除・並び替え） | - | ○ |
| 支給量超過アラート | - | ○ |
| 遅延ロード（パフォーマンス最適化） | - | ○ |

#### 技術的な特徴（本番版）

- **マグネット式UI**: シフトをマグネットとして表現し、ドラッグ＆ドロップで直感的に配置変更が可能
- **リアルタイム同期**: Firestoreを使用し、複数端末からの同時編集に対応
- **パフォーマンス最適化**: IntersectionObserverによる遅延ロードで、大量データでも快適に動作
- **サービスコード対応**: 介護保険のサービスコード（6桁）から略称への自動変換

#### サービス種別と色分け

| 色 | 意味 |
|----|------|
| 黄色 | 同行援護・身体介護含む |
| 赤色 | キャンセル |
| オレンジ | 時間変更あり |
| 青色 | 利用者名未入力 |
| 紫色 | 会社負担 |

#### 勤務時間の計算

- **予定時間**: 職種別の月間拘束時間を自動計算
  - 社員（管理者）: 220時間固定
  - 社員（残業あり）: 基本時間 + 30時間
  - 社員（残業なし）: 基本時間（月の日数により160〜177時間）
- **週合計**: 週ごとの拘束時間・サービス時間を自動集計
- **月合計**: 公休・有休・特休日数、30分シフト回数、会社負担回数を表示

---

### 2. 利用者一覧

訪問介護サービスの利用者情報を一元管理するアプリケーションです。

#### 主な機能

| 機能 | デモ版 | 本番版 |
|------|:------:|:------:|
| 利用者一覧表示 | ○ | ○ |
| 検索・フィルタリング | ○ | ○ |
| ページネーション | ○ | ○ |
| 基本情報の表示 | ○ | ○ |
| Firebase/Firestoreリアルタイム同期 | - | ○ |
| 基本情報の編集・保存 | - | ○ |
| 更新書類管理 | - | ○ |
| サービス実施履歴表示 | - | ○ |
| ファイルアップロード（Firebase Storage） | - | ○ |
| 未入力項目の自動検知・アラート | - | ○ |
| BCP（事業継続計画）情報管理 | - | ○ |
| PDF出力機能 | - | ○ |

#### 技術的な特徴（本番版）

- **Firestore サブコレクション構造**: 利用者ごとにbasicInfo、updateDoc、historyのサブコレクションで管理
- **条件付きフォーム表示**: サービス種別（障害/介護/移動）に応じて入力項目を動的に表示
- **リアルタイムリスナー**: onSnapshotによるデータ変更の即座反映
- **ハイブリッド対応**: Firebase版とGAS（Google Apps Script）版の切り替えが可能

#### 管理項目

**基本情報**
- 利用者名・フリガナ
- サービス内容（障害/介護/移動）
- 区分・種別（障害の場合）
- 要介護度（介護の場合）
- 利用開始日
- 利用者住所
- 相談支援事業所
- 介護相談員
- 緊急連絡先・家族連絡先
- 既往歴・服薬情報・アレルギー情報

**BCP（事業継続計画）項目**
- 安否確認の要否
- 医療・介護状況
- 建物環境
- 地域環境（水害・土砂災害リスク）
- 避難状況（独居・家族同居など）

**更新書類**
- 計画書
- 契約書類
- 各種証明書のファイル管理

#### フィルタリング機能

- ID検索
- 名前検索（ふりがな対応）
- サービス責任者（サ責）でフィルタ
- 利用状況（利用中/中断中/終了）
- 住所（市区町村単位）
- サービス内容（障害/介護/移動）
- お知らせ状況（未入力項目の有無）

---

## 使用技術

### フロントエンド
- HTML5 / CSS3
- JavaScript（Vanilla JS）
- Flatpickr（日付選択）
- Font Awesome（アイコン）
- pdfmake（PDF生成）

### バックエンド（本番版）
- Firebase Authentication
- Cloud Firestore
- Firebase Storage
- Firebase Hosting
- Google Apps Script（スプレッドシート連携）

---

## 開発の背景

訪問介護事業所では、以下のような課題がありました：

1. **紙ベースのシフト管理**: 変更のたびに書き直しが必要で非効率
2. **情報の分散**: 利用者情報がExcel、紙、口頭など複数箇所に分散
3. **リアルタイム共有の困難**: スタッフ間での情報共有にタイムラグ

これらの課題を解決するため、直感的なUIとリアルタイム同期機能を備えたWebアプリケーションを開発しました。

---

## スクリーンショット

### 月間シフト表
- マグネット式のシフト配置
- スタッフ別の勤務時間集計
- 週合計・月合計の自動計算

### 利用者一覧
- 一覧表示とフィルタリング
- 詳細情報のモーダル表示
- お知らせバッジによる未入力検知

---

## 注意事項

- このデモ版はポートフォリオ展示用です
- 本番環境のデータは含まれていません
- Firebase連携機能はデモ版では無効化されています

---

## 作者

介護事業所向け業務システムの企画・設計・開発を担当しました。
現場のニーズをヒアリングし、使いやすさを重視したUI/UX設計を行っています。

---

## ライセンス

This project is for portfolio demonstration purposes only.
